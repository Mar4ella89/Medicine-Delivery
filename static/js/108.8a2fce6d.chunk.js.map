{"version":3,"file":"static/js/108.8a2fce6d.chunk.js","mappings":"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","sources":["webpack://medicine-delivery/./src/components/Container/Container.module.css?9f71","components/Container/Container.jsx","webpack://medicine-delivery/./src/components/MedicineCardList/MedicineCardList.module.css?ebe8","components/MedicineCardList/MedicineCardList.jsx","webpack://medicine-delivery/./src/components/DrugList/DrugsList.module.css?2c96","components/DrugList/DrugList.jsx","webpack://medicine-delivery/./src/components/SortingControls/SortingControls.module.css?040f","components/SortingControls/SortingControls.jsx","webpack://medicine-delivery/./src/pages/Shop/Shop.module.css?943e","pages/Shop/Shop.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VVOCq\"};","import css from './Container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={css.container}>{children}</div>;\n};\n\nexport default Container;","// extracted by mini-css-extract-plugin\nexport default {\"sectionMedicine\":\"MedicineCardList_sectionMedicine__y9Sc3\",\"listMedicine\":\"MedicineCardList_listMedicine__TEH35\",\"itemMedicine\":\"MedicineCardList_itemMedicine__13oMF\",\"img\":\"MedicineCardList_img__PHpw1\",\"subtitle\":\"MedicineCardList_subtitle__U9xf8\",\"medicineOrder\":\"MedicineCardList_medicineOrder__C2Hqm\",\"btnOrder\":\"MedicineCardList_btnOrder__1mwvw\",\"btnOrderDisabled\":\"MedicineCardList_btnOrderDisabled__RXIp+\"};","import { useContext } from 'react';\n\nimport CartContext from 'contexts/CartContext';\n\nimport css from './MedicineCardList.module.css';\n\nconst MedicineCardList = ({ medicines }) => {\n  const { addToCart, favorites, addToFavorites, removeFromFavorites } =\n    useContext(CartContext);\n\n  const handleMedicineClick = (medicines, idMedicines) => {\n    addToCart(medicines, idMedicines);\n  };\n\n  const handleFavoriteClick = idMedicines => {\n    if (favorites.includes(idMedicines)) {\n      removeFromFavorites(idMedicines);\n      return;\n    }\n    addToFavorites(idMedicines);\n  };\n\n  const elements = medicines.map(({ _id, name, imgUrl, price }) => (\n    <li key={_id} className={css.itemMedicine}>\n      <img src={imgUrl} alt={name} width={290} className={css.img} />\n      <h3 className={css.subtitle}>{name}</h3>\n      <div className={css.medicineOrder}>\n        <p>{price.toFixed(2)} $</p>\n        <button\n          type=\"button\"\n          className={css.btnFavorite}\n          onClick={() => handleFavoriteClick(_id)}\n        >\n          {favorites.includes(_id) ? '‚ù§Ô∏è' : 'ü§ç'}\n        </button>\n        <button\n          type=\"button\"\n          className={css.btnOrder}\n          onClick={() => handleMedicineClick(medicines, _id)}\n        >\n          add to Cart\n        </button>\n      </div>\n    </li>\n  ));\n\n  return (\n    <section className={css.sectionMedicine}>\n      <ul className={css.listMedicine}>{elements}</ul>\n    </section>\n  );\n};\n\nexport default MedicineCardList;\n","// extracted by mini-css-extract-plugin\nexport default {\"sectionDrug\":\"DrugsList_sectionDrug__bnA13\",\"title\":\"DrugsList_title__6eglp\",\"item\":\"DrugsList_item__bb451\",\"selected\":\"DrugsList_selected__qpG9b\"};","import { useState } from 'react';\n\nimport css from './DrugsList.module.css';\n\nconst DrugList = ({ drugsItem, onSelectPharmacy }) => {\n  const [selectedPharmacyId, setSelectedPharmacyId] = useState(null);\n\n  const handlePharmacyClick = pharmacyId => {\n    onSelectPharmacy(pharmacyId);\n    setSelectedPharmacyId(pharmacyId);\n  };\n\n  const handleAllClick = () => {\n    onSelectPharmacy('');\n    setSelectedPharmacyId('');\n  };\n\n  const elements = drugsItem.map(({ _id, name }) => {\n    return (\n      <li\n        key={_id}\n        className={`${css.item} ${\n          selectedPharmacyId === _id ? css.selected : ''\n        }`}\n        onClick={() => handlePharmacyClick(_id)}\n      >\n        {name}\n      </li>\n    );\n  });\n\n  return (\n    <section className={css.sectionDrug}>\n      <p\n        className={`${css.item} ${\n          selectedPharmacyId === '' ? css.selected : ''\n        }`}\n        onClick={() => handleAllClick()}\n      >\n        All drugs\n      </p>\n      <h2 className={css.title}>drugstore:</h2>\n      <ul>{elements}</ul>\n    </section>\n  );\n};\n\nexport default DrugList;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"SortingControls_wrapper__bbW6p\",\"sortingItem\":\"SortingControls_sortingItem__sSXd5\",\"selected\":\"SortingControls_selected__FgU0o\"};","import { useState } from 'react';\n\nimport css from './SortingControls.module.css';\n\nconst SortingControls = ({\n  onFilterByFavorite,\n  onSortFromCheap,\n  onSortFromExpensive,\n  onSortByName,\n}) => {\n  const [activeSort, setActiveSort] = useState(null);\n\n  const handleClick = (sortType, sortFunction) => {\n    setActiveSort(sortType);\n    sortFunction();\n  };\n\n  return (\n    <div className={css.wrapper}>\n      <span className={css.title}>Sorting:</span>\n      <span\n        onClick={() => handleClick('favorite', onFilterByFavorite)}\n        className={`${css.sortingItem} ${\n          activeSort === 'favorite' ? css.selected : ''\n        }`}\n      >\n        Favorites\n      </span>\n      <span\n        onClick={() => handleClick('cheap', onSortFromCheap)}\n        className={`${css.sortingItem} ${\n          activeSort === 'cheap' ? css.selected : ''\n        }`}\n      >\n        From cheap to expensive\n      </span>\n      <span\n        onClick={() => handleClick('expencive', onSortFromExpensive)}\n        className={`${css.sortingItem} ${\n          activeSort === 'expencive' ? css.selected : ''\n        }`}\n      >\n        From expensive to cheap\n      </span>\n      <span\n        onClick={() => handleClick('name', onSortByName)}\n        className={`${css.sortingItem} ${\n          activeSort === 'name' ? css.selected : ''\n        }`}\n      >\n        Sort by Name (A to Z)\n      </span>\n    </div>\n  );\n};\n\nexport default SortingControls;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Shop_wrapper__gaMcg\",\"mapWrapper\":\"Shop_mapWrapper__FoysE\"};","import { useContext, useState, useMemo } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\n\nimport Container from 'components/Container/Container';\nimport MedicineCardList from 'components/MedicineCardList/MedicineCardList';\nimport DrugList from 'components/DrugList/DrugList';\nimport DrugContext from 'contexts/DrugContext';\nimport CartContext from 'contexts/CartContext';\nimport SortingControls from 'components/SortingControls/SortingControls';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport css from './Shop.module.css';\n\nconst Shop = () => {\n  const { selectedPharmacy, setSelectedPharmacy, drugsItem } =\n    useContext(DrugContext);\n\n  const { visibleMedicines, favorites } = useContext(CartContext);\n\n  const filteredMedicines = visibleMedicines.filter(medicine => {\n    const pharmacyIdArr = medicine.availablePharmacies;\n    return pharmacyIdArr.includes(selectedPharmacy);\n  });\n\n  const medicinesList = selectedPharmacy ? filteredMedicines : visibleMedicines;\n\n  const [sortOrder, setSortOrder] = useState('default');\n\n  console.log(medicinesList);\n  console.log(favorites);\n  console.log([...medicinesList].filter(({ _id }) => favorites.includes(_id)));\n\n  const sortedMedicines = useMemo(() => {\n    if (sortOrder === 'default') return medicinesList;\n    if (sortOrder === 'favorite')\n      return [...medicinesList].filter(({ _id }) => favorites.includes(_id));\n    if (sortOrder === 'cheapToExpensive')\n      return [...medicinesList].sort((a, b) => a.price - b.price);\n    if (sortOrder === 'expensiveToCheap')\n      return [...medicinesList].sort((a, b) => b.price - a.price);\n    if (sortOrder === 'nameAZ')\n      return [...medicinesList].sort((a, b) => a.name.localeCompare(b.name));\n    return medicinesList;\n  }, [medicinesList, sortOrder, favorites]);\n\n  const handleSortFromCheap = () => {\n    setSortOrder('cheapToExpensive');\n  };\n\n  const handleSortFromExpensive = () => {\n    setSortOrder('expensiveToCheap');\n  };\n\n  const handleSortByName = () => {\n    setSortOrder('nameAZ');\n  };\n\n  const handleSortByFavorite = () => {\n    setSortOrder('favorite');\n  };\n\n  return (\n    <Container>\n      <SortingControls\n        onFilterByFavorite={handleSortByFavorite}\n        onSortFromCheap={handleSortFromCheap}\n        onSortFromExpensive={handleSortFromExpensive}\n        onSortByName={handleSortByName}\n      />\n      <div className={css.wrapper}>\n        <DrugList\n          drugsItem={drugsItem}\n          onSelectPharmacy={pharmacyId => setSelectedPharmacy(pharmacyId)}\n        />\n\n        <MedicineCardList medicines={sortedMedicines} />\n      </div>\n      <ToastContainer autoClose={3000} position=\"bottom-right\" />\n    </Container>\n  );\n};\n\nexport default Shop;\n"],"names":["_ref","children","_jsx","className","css","medicines","addToCart","favorites","addToFavorites","removeFromFavorites","useContext","CartContext","elements","map","_ref2","_id","name","imgUrl","price","_jsxs","itemMedicine","src","alt","width","img","subtitle","medicineOrder","toFixed","type","btnFavorite","onClick","handleFavoriteClick","idMedicines","includes","btnOrder","handleMedicineClick","sectionMedicine","listMedicine","drugsItem","onSelectPharmacy","selectedPharmacyId","setSelectedPharmacyId","useState","concat","handlePharmacyClick","pharmacyId","onFilterByFavorite","onSortFromCheap","onSortFromExpensive","onSortByName","activeSort","setActiveSort","handleClick","sortType","sortFunction","wrapper","title","sortingItem","selected","Shop","selectedPharmacy","setSelectedPharmacy","DrugContext","visibleMedicines","filteredMedicines","filter","medicine","availablePharmacies","medicinesList","sortOrder","setSortOrder","console","log","sortedMedicines","useMemo","sort","a","b","localeCompare","Container","SortingControls","handleSortByFavorite","handleSortFromCheap","handleSortFromExpensive","handleSortByName","DrugList","MedicineCardList","ToastContainer","autoClose","position"],"sourceRoot":""}